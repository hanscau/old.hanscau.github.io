<!DOCTYPE html>
<html>
<head>
	<title>H OpenCV</title>
	<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<div id="container">

		<div id="header">
			<h1 id="title"> Tristan Technologies</h1>
		</div>

		<div id = "content">
			<div id ="nav">
				<h3>Navigation</h3>
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="object_detection.html">Object Detection</a></li>
				</ul>
				<h4>Resources</h4>
				<ul id="navContainer">
				</ul>
			</div>

			<div id="main">
			<h2>OpenCV 3.4.0 Installation</h2>
			<hr>
			<p>OpenCV installation byitself is actually not difficult, but installing it together with CUDA is quite hard for people who
				are new to Ubuntu or OpenCV installation.</p>
			<h3>Installation</h3>
			<p>If you just want openCV without CUDA support, open terminal</p>
			<code>
				sudo apt-get install python-opencv
			</code>
			<p>If you want it to work with CUDA and for Object Detection, well here we go</p>
			<h3>Resources</h3>
			<p>CUDA 9.0 Toolkit already installed</p>
			<p>Linux operating system (any should work)</p>
			<h3>Compiling OpenCV from Source</h3>
			<p>I will be installing OpenCV 3.4.0 for it to work with CUDA. However, installation of other
				versions of openCV will  be the same too, the only difference is what files that you
			download</p>
			<p>First, install the necessary reprequisite for installing OpenCv</p>
			<p>Run the following one by one</p>
			<code>
				sudo apt-get update<br>
				sudo apt-get upgrade<br>
				sudo apt-get install build-essential cmake pkg-config<br>
				sudo apt-get install libjpeg8-dev libtiff5-dev libjasper-dev libpng12-dev<br>
				sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev<br>
				sudo apt-get install libxvidcore-dev libx264-dev<br>
				sudo apt-get install libgtk-3-dev<br>
				sudo apt-get install libatlas-base-dev gfortran<br>
				sudo apt-get install python2.7-dev python3.5-dev<br>
				sudo apt-get install python-dev python-numpy<br>
				sudo apt-get install gcc gcc-c++<br>
				sudo apt-get install gtk2.0<br>
				sudo apt-get install libv4l-0<br>
			</code>
			<p>Next, download the desired OpenCV version and its contrib repository</p>
			<p>OpenCV 3.4.0</p>
			<code>
				cd ~<br>
				wget -O opencv.zip https://github.com/Itseez/opencv/archive/3.4.0.zip<br>
				unzip opencv.zip<br>
			</code>
			<p>OpenCV 3.4.0 contrib</p>
			<code>
				wget -O opencv_contrib.zip https://github.com/Itseez/opencv_contrib/archive/3.4.0.zip<br>
				unzip opencv_contrib.zip<br>
			</code>
			<p>Latest OpenCV</p>
			<code>
				cd ~<br>
				wget -O opencv.zip https://github.com/opencv/opencv<br>
				unzip opencv.zip<br>
			</code>
			<p>Lates OpenCV Contrib</p>
			<code>
				wget -O opencv_contrib.zip https://github.com/opencv/opencv_contrib</br>
				unzip opencv_contrib.zip<br>
			</code>
			<p>After unzipping it, go into opencv folder and make a new folder called "build"</p>
			<code>
				cd opencv<br>
				mkdir build<br>
				cd build
			</code>
			<p>Then build the config file! Choose accordingly and run it in the build folder</p>
			<p>Compile with OpenCV_contrib</p>
			<code>
				cmake -D CMAKE_BUILD_TYPE=RELEASE \<br>
    		-D CMAKE_INSTALL_PREFIX=/usr/local \<br>
    		-D INSTALL_PYTHON_EXAMPLES=ON \<br>
    		-D OPENCV_EXTRA_MODULES_PATH=../../opencv_contrib/modules \<br>
    		-D BUILD_EXAMPLES=ON \<br>
				..
			</code>
			<p>Compile with OpenCV_contrib and CUDA</p>
			<code>
				cmake -D CMAKE_BUILD_TYPE=RELEASE \<br>
    		-D CMAKE_INSTALL_PREFIX=/usr/local \<br>
    		-D INSTALL_PYTHON_EXAMPLES=ON \<br>
    		-D OPENCV_EXTRA_MODULES_PATH=../../opencv_contrib/modules \<br>
    		-D BUILD_EXAMPLES=ON \<br>
				-D WITH_CUDA=ON \<br>
				-D ENABLE_FAST_MATH=1 \<br>
				-D CUDA_FAST_MATH=1 \<br>
				-D WITH_CUBLAS=1 \<br>
				..
			</code>
			<note>
				NOTE: Change the "OPENCV_EXTRA_MODULES_PATH" to the appropriate path to OpenCV_contrib
			</note>
			<p>Basically, these are the parameter you can use to compile OpenCV to your liking.
				If you want to compile it with CUDA(which is what you need for ObjDectection) then choose
				the appropriate parameter above. Regardless of how you edit the parameter, add a ".." at
				the end of the command, it is to point to the root OpenCV folder.</p>
			<note>
				NOTE: ".." means go back the directory path by one
			</note>
		<p>After the config file is done (Could take quite a while), run the following</p>
		<code>
			#change "4" with the number of cores you want to compile it with<br>
			make -j4
		</code>
		<p>When it is done compiling, install it</p>
		<code>
			make install
		</code>
		<p>And you are done!</p>
		<h3>Testing</h3>
		<p>For testing to see if installation is complete run the following in python</p>
		<code>
			import cv2 as cv<br>
			print(cv.__version__)
		</code>
		<p>It should return the version of OpenCV that you installed</p>
		</div>

		<div id="footer">
			Copyright Tristan Technologies 2018 &copy;
		</div>

	</div>
	<script src="autoEdit.js"></script>
</body>
</html>
